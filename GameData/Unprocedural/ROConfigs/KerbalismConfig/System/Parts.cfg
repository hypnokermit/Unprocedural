//Mercury
@PART[bluedog_Mercury_Capsule]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  %capsuleScrubbers = true
  %scrubberCapacity = 1.1
  %capsuleOrigin = US

  @MODULE[ModuleCommand]
  {
    @RESOURCE[ElectricCharge]
    {
      @rate -= 0.055  //Remove Climatization and LS power draw
    }
  }
  MODULE
  {
    name = ProcessController
    resource = _PressureControlOxygen
    title = O2 Pressure Controller
    desc = Use <b>Oxygen</b> to maintain the internal atmosphere at a comfortable pressure.
    capacity = 1
    toggle = true
    running = true
  }

  @MODULE[ProcessController],*
  {
    @capacity *= #$/CrewCapacity$
  }
}

//Gemini
@PART[bluedog_Gemini_Capsule]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  %capsuleScrubbers = true
  %scrubberCapacity = 1.3
  %capsuleOrigin = US

  @MODULE[ModuleCommand]
  {
    @RESOURCE[ElectricCharge]
    {
      @rate -= 0.187 //Remove Climatization and LS power draw
    }
  }
}

//Big Gemini
@PART[bluedog_BigG_Cabin]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  %capsuleScrubbers = true
  %scrubberCapacity = 1.2
  %capsuleOrigin = US

  MODULE
  {
    name = ProcessController
    resource = _PressureControlOxygen
    title = O2 Pressure Controller
    desc = Use <b>Oxygen</b> to maintain the internal atmosphere at a comfortable pressure.
    capacity = 2
    running = true
    toggle = true
  }

  @MODULE[ProcessController],*
  {
    @capacity *= #$/CrewCapacity$
  }
}

// Big Gemini SM
@PART[bluedog_BigG_ConicSM_CargoModule|bluedog_BigG_CylindricalSM_CargoModule|bluedog_BigG_CylindricalSM_EquipmentModule|bluedog_BigG_CylindricalSM_CargoModule|bluedog_MOL_EquipmentSection]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  MODULE
  {
    name = ProcessController
    resource = _FuelCell
    title = Fuel Cells
    capacity = 4.26
    toggle = true
    running = true
  }

  MODULE
  {
    name = ProcessController
    resource = _LOXConverter
    title = LOX to GOX Converter
    capacity = 9
  }

  processConfigureExclude = true
  MODULE
  {
    name = Configure
    title = Processes
    slots = 2

    SETUP
    {
      name = Fuel Cells
      desc = 4.26 kW fuel cell unit that consumes <b>LqdHydrogen</b> and <b>LqdOxygen</b> to generate <b>Water</b>.
      tech = lunarRatedPower

      MODULE
      {
        type = ProcessController
        id_field = resource
        id_value = _FuelCell
      }
    }

    SETUP
    {
      name = LOX to GOX Converter
      desc = Heats <b>LqdOxygen</b> to breathable <b>Oxygen</b>.
      tech = earlyLifeSupport

      MODULE
      {
        type = ProcessController
        id_field = resource
        id_value = _LOXConverter
      }
    }
  }
}

//Early Landers
@PART[bluedog_Gemini_LanderCan]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  %capsuleScrubbers = true
  %scrubberCapacity = 1.1
  %capsuleOrigin = US

  @MODULE[ModuleCommand]
  {
    @RESOURCE[ElectricCharge]
    {
      @rate -= 0.180  //Remove Climatization and LS power draw
    }
  }
}
//Gemini SM
@PART[bluedog_Gemini_EquipmentModule|bluedog_Gemini_LunarReconSM|bluedog_Gemini_LongFerrySM|bluedog_Shuguang_EquipmentModule]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  MODULE
  {
    name = ProcessController
    resource = _FuelCellGemini
    title = Fuel Cells
    capacity = 2.2
    toggle = true
    running = true
  }
  MODULE
  {
    name = ProcessController
    resource = _LOXConverter
    title = LOX to GOX Converter
    capacity = 1.2 // 0.55 per crew member + margin
  }
  MODULE
  {
    name = ProcessController
    resource = _PressureControlOxygen
    title = O2 Pressure Controller
    capacity = 2
    running = true
  }

  processConfigureExclude = true
  MODULE
  {
    name = Configure
    title = Processes
    slots = 3

    SETUP
    {
      name = O2 Pressure Controller
      desc = Use <b>Oxygen</b> to maintain the internal atmosphere at a comfortable pressure.
      tech = crewSurvivability

      MODULE
      {
        type = ProcessController
        id_field = resource
        id_value = _PressureControlOxygen
      }
    }
    SETUP
    {
      name = Fuel Cell
      desc = A fuel cell that combines <b>Liquid Hydrogen</b> and <b>Liquid Oxygen</b>, producing <b>Water</b> as a by-product.
      tech = improvedPower

      MODULE
      {
        type = ProcessController
        id_field = resource
        id_value = _FuelCellGemini
      }
    }
    SETUP
    {
      name = LOX to GOX Converter
      desc = Heats <b>LqdOxygen</b> to breathable <b>Oxygen</b>.
      tech = earlyLifeSupport

      MODULE
      {
        type = ProcessController
        id_field = resource
        id_value = _LOXConverter
      }
    }
  }
}

//Apollo
@PART[bluedog_Apollo_CrewPod]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  %capsuleScrubbers = true
  %scrubberCapacity = 1.67
  %capsuleOrigin = US

  @MODULE[ModuleCommand]
  {
    @RESOURCE[ElectricCharge]
    {
      @rate -= 0.304  //Remove Climatization and LS power draw
    }
  }
}
//Apollo SM
@PART[bluedog_Apollo_Block2_SM]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  MODULE
  {
    name = ProcessController
    resource = _FuelCell
    title = Fuel Cells
    capacity = 4.26
    running = true
  }
  MODULE
  {
    name = ProcessController
    resource = _LOXConverter
    title = LOX to GOX Converter
    capacity = 3
  }
  MODULE
  {
    name = ProcessController
    resource = _PressureControlOxygen
    title = O2 Pressure Controller
    capacity = 5
    running = true
  }

  processConfigureExclude = true
  MODULE
  {
    name = Configure
    title = Processes
    slots = 3

    SETUP
    {
      name = O2 Pressure Controller
      desc = Use <b>Oxygen</b> to maintain the internal atmosphere at a comfortable pressure.
      tech = crewSurvivability

      MODULE
      {
        type = ProcessController
        id_field = resource
        id_value = _PressureControlOxygen
      }
    }

    SETUP
    {
      name = Fuel Cells
      desc = 4.26 kW fuel cell unit that consumes <b>LqdHydrogen</b> and <b>LqdOxygen</b> to generate <b>Water</b>.
      tech = lunarRatedPower

      MODULE
      {
        type = ProcessController
        id_field = resource
        id_value = _FuelCell
      }
    }

    SETUP
    {
      name = LOX to GOX Converter
      desc = Heats <b>LqdOxygen</b> to breathable <b>Oxygen</b>.
      tech = earlyLifeSupport

      MODULE
      {
        type = ProcessController
        id_field = resource
        id_value = _LOXConverter
      }
    }
  }
}
//Landers
@PART[bluedog_LM_Ascent_Cockpit|bluedog_LM_Shelter|bluedog_LM_Lab|bluedog_LM_Taxi]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  %capsuleScrubbers = true
  %scrubberCapacity = 1.67
  %capsuleOrigin = US

  @MODULE[ModuleCommand]
  {
    @RESOURCE[ElectricCharge]
    {
      @rate -= 0.202  //Remove Climatization and LS power draw
    }
  }
}
//Apollo Block III
@PART[bluedog_Apollo_CrewPod_5crew|bluedog_Apollo_RCML]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  %capsuleScrubbers = true
  %scrubberCapacity = 1.67
  %capsuleOrigin = US

  @MODULE[ModuleCommand]
  {
    @RESOURCE[ElectricCharge]
    {
      @rate -= 0.400  //Remove Climatization and LS power draw
    }
  }
}

//Apollo BlockIII+ SM
@PART[bluedog_Apollo_Block3_SM|bluedog_Apollo_Block4_SM]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  MODULE
  {
    name = ProcessController
    resource = _PressureControl
    title = N2 Pressure Controller
    desc = Use <b>Nitrogen</b> to maintain the internal atmosphere at a comfortable pressure.
    capacity = 5
    toggle = true
    running = true
  }

  processConfigureExclude = true
  MODULE
  {
    name = Configure
    title = Processes
    slots = 1

    SETUP
    {
      name = N2 Pressure Control
      desc = Use <b>Nitrogen</b> to maintain the internal atmosphere at a comfortable pressure.
      tech = earlyLifeSupport

      MODULE
      {
        type = ProcessController
        id_field = resource
        id_value = _PressureControl
      }
    }
  }
}

// ==============================================================================
// Habitats
// ==============================================================================
//X-15
@PART[bluedog_X15_Cockpit,bluedog_X15_TwoSeater]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  %capsuleScrubbers = true
  %scrubberCapacity = 1.2
  %capsuleOrigin = US
}
//Early Space Stations
@PART[bluedog_Gemini_OneRoomStationModule|bluedog_Gemini_1p5mShortSegment|bluedog_Gemini_TwoRoomStationModule|bluedog_MiniLab_Lab|bluedog_MOL_1p5mStationSegment|bluedog_MOL_Lab_New]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  %capsuleScrubbers = true
  %scrubberCapacity = 1.67

  MODULE
  {
    name = ProcessController
    resource = _PressureControlOxygen
    title = O2 Pressure Controller
    desc = Use <b>Oxygen</b> to maintain the internal atmosphere at a comfortable pressure.
    capacity = 1.67
    toggle = true
    running = true
  }

  @MODULE[ProcessController],*
  {
    @capacity *= #$/CrewCapacity$
  }
}
//Skylab
@PART[bluedog_LM_SheLab|bluedog_EarlyLunarShelter|bluedog_Skylab_WetWorkshop|bluedog_Skylab_Workshop|bluedog_Skylab_VFB_lightweightWetWorkshop|bluedog_MORL_workshop|bluedog_Skylab_VFB_ESM|bluedog_Skylab_airlockModule_SAF|bluedog_spacelab_forwardAdapter_SAF|bluedog_GooLab_Module|bluedog_spacelab_europeanModule]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  %capsuleScrubbers = true
  %scrubberCapacity = 1.67

  MODULE
  {
    name = ProcessController
    resource = _PressureControl
    title = N2 Pressure Controller
    desc = Use <b>Nitrogen</b> to maintain the internal atmosphere at a comfortable pressure.
    capacity = 1.67
    toggle = true
    running = true
  }

  @MODULE[ProcessController],*
  {
    @capacity *= #$/CrewCapacity$
  }
}